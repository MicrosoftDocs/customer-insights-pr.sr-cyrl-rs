---
title: Односи између ентитета и путања ентитета
description: Правите и управљајте односима између ентитета из више извора података.
ms.date: 09/27/2021
ms.reviewer: mhart
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: CadeSanthaMSFT
ms.author: cadesantha
manager: shellyha
ms.openlocfilehash: bd80d0315f4f501b8f8108b99c144082c21e0d4c
ms.sourcegitcommit: 5d82e5b808517e0e99fdfdd7e4a4422a5b8ebd5c
ms.translationtype: HT
ms.contentlocale: sr-Cyrl-RS
ms.lasthandoff: 10/11/2021
ms.locfileid: "7623187"
---
# <a name="relationships-between-entities"></a>Релације између ентитета

Релације повезују ентитете и дефинишу графикон ваших података када ентитети деле заједнички идентификатор, страни кључ. Овај страни кључ може се референцирати из једног ентитета на други. Повезани ентитети омогућавају дефиницију сегмената и мере на основу више извора података.

Постоје три врсте релација: 
- Системске релације које не могу да се уређују, креира их систем као део процеса уједначавања података
- Наслеђене релације без могућности уређивања, које се аутоматски креирају из уноса извора података 
- Прилагођене релације са могућношћу уређивања, које креирају и конфигуришу корисници

## <a name="non-editable-system-relationships"></a>Системске релације које не могу да се уређују

Током уједначавања података, системске релације се аутоматски креирају на основу интелигентног подударања. Ове релације помажу да се повежу записи профила клијената са одговарајућим записима. Следећи дијаграм илуструје креирање три системске релације. Ентитет клијента се подудара са другим ентитетима како би се направио обједињени ентитет *Клијент*.

:::image type="content" source="media/relationships-entities-merge.png" alt-text="Дијаграм са путањама релација за ентитет клијента са три релације „1-n“.":::

- **Релација *CustomerToContact*** је креирана између ентитета *Клијент* и ентитета *Контакт*. Ентитет *Клијент* добија кључно поље **Contact_contactID** да ступи у релацију са пољем **contactId** кључа ентитета *Контакт*.
- **Релација *CustomerToAccount*** је креирана између ентитета *Клијент* и ентитета *Пословни контакт*. Ентитет *Клијент* добија поље кључа **Account_accountID** да ступи у релацију са пољем **accountID** кључа ентитета *Пословни контакт*.
- **Релација *CustomerToWebAccount*** је креирана између ентитета *Клијент* и ентитета *WebAccount*. Ентитет *Клијент* добија поље кључа **WebAccount_webaccountID** да ступи у релацију са пољем **webaccountID** кључа ентитета *WebAccount*.

## <a name="non-editable-inherited-relationships"></a>Наслеђене релације које не могу да се уређују

Током процеса уноса података, систем проверава постоје ли релације у изворима података. Ако не постоје релације, систем их аутоматски креира. Те релације се такође користе у последичним процесима.

## <a name="create-a-custom-relationship"></a>Креирање прилагођене релације

Релација се састоји од *изворног ентитета* који садржи страни кључ и *циљни ентитет* на који указује страни кључ изворног ентитета. 

1. У увидима о корисницима идите на **Подаци** > **Односи**.

2. Изаберите **Нова релација**.

3. У окну **Нова релација**, наведите следеће информације:

   :::image type="content" source="media/relationship-add.png" alt-text="Ново бочно окно релације са празним пољима за унос.":::

   - **Назив релације**: Назив који одражава сврху везе. Пример: CustomerToSupportCase.
   - **Опис**: Опис релације.
   - **Изворни ентитет**: Ентитет који се користи као извор у релацији. Пример: SupportCase.
   - **Циљни ентитет**: Ентитет који се користи као циљ у релацији. Пример: Клијент.
   - **Изворна кардиналност**: Наведите кардиналност изворног ентитета. Кардиналност описује број могућих елемената у скупу. Увек се односи на циљну кардиналност. Можете бирати између **Један** и **Више**. Подржани су само релације више-према-један и један-према-један.  
     - Више према један: Више изворних записа може се односити на један циљни запис. Пример: Више случајева подршке од једног клијента.
     - Један према један: Један изворни запис односи се на један циљни запис. Пример: Један ID лојалности за једног клијента.

     > [!NOTE]
     > Релације „Више према више“ могу се креирати помоћу две релације „више према један“ и повезујућег ентитета, који повезује изворни ентитет и циљни ентитет.

   - **Циљна кардиналност**: Изаберите кардиналност циљних записа ентитета. 
   - **Поље изворног кључа**: Поље страног кључа у изворном ентитету. Пример: SupportCase може користити CaseID као поље страног кључа.
   - **Поље циљног кључа**: Поље кључа циљног ентитета. Пример „Клијент“ би могао да користи поље кључа **CustomerID**.

4. Изаберите **Сачувај** да бисте креирали прилагођену релацију.

## <a name="set-up-account-hierarchies"></a>Подешавање хијерархија налога

Окружења која су конфигурисана да користе пословне налоге као примарну циљну групу могу да конфигуришу хијерархије налога за повезане пословне налоге. На пример, предузеће које има засебне пословне јединице. 

Организације креирају хијерархије налога ради бољег управљања налозима и њиховим међусобним односима. Могућност увида у циљну групу подржава хијерархије налога надређено-подређено које већ постоје у унетим подацима о клијентима. На пример, налози из услуге Dynamics 365 Sales. Ове хијерархије се могу конфигурисати на страници **Односи** у увидима у циљну групу, на картици хијерархија налога.

1. Идите на **Подаци** > **Односи**.
1. Изаберите картицу **Хијерархија налога**.
1. Изаберите **Хијерархију новог налога**. 
1. У окну **Хијерархија налога**, наведите назив за хијерархију. Систем креира назив за излазни ентитет. Можете променити назив ентитета излазног имена.
1. Изаберите ентитет који садржи хијерархију налога. Обично се налази у истом ентитету који садржи налоге.
1. Изаберите **ID налога** и **ID надређеног налога** из изабраног ентитета 
1. Изаберите **Сачувај** да бисте применили подешавања и довршили хијерархију налога.

## <a name="view-relationships"></a>Приказ релација

На страници Релације наведене су све релације које су креиране. Сваки ред представља релацију, што такође укључује детаље о изворном ентитету, циљном ентитету и кардиналности. 

:::image type="content" source="media/relationships-list.png" alt-text="Листа релација и опција на траци са радњама на страници Релације.":::

Ова страница нуди скуп опција за постојеће и нове релације: 
- **Нова релација**: [Креирање нове релације](#create-a-custom-relationship).
- **Визуелизатор**: [Истражите визуелизатор односа](#explore-the-relationship-visualizer) да бисте видели мрежни дијаграм постојећих релација и њихову кардиналност.
- **Филтрирај према**: Изаберите тип релација који ће се приказивати на листи.
- **Претрага релација**: Користите текстуалну претрагу својстава релација.

### <a name="explore-the-relationship-visualizer"></a>Истражите визуелизатор релација

Визуелизатор релација приказује мрежни дијаграм постојећих релација између повезаних ентитета и њихову кардиналност. Такође визуализује путању релација.

Да бисте прилагодили приказ, можете да промените положај оквира тако што ћете их превући на подлогу.

:::image type="content" source="media/relationship-visualizer.png" alt-text="Снимак екрана мрежног дијаграма визуелизатора релација са везама између повезаних ентитета.":::

Доступне опције: 
- **Извези као слику**: Снимите тренутни приказ као датотеку слике.
- **Промена на хоризонтални/вертикални распоред**: Промените поравнање ентитета и релација.
- **Уреди**: Ажурирајте својства прилагођених релација у окну за уређивање и сачувајте промене.

## <a name="relationship-paths"></a>Путање релација

Путања релација описује ентитете који су повезани са релацијама између изворног ентитета и циљног ентитета. Користи се при креирању сегмента или мере која укључује друге ентитете осим ентитета обједињеног профила и постоји више опција за досезање ентитета обједињеног профила. 

Путања релација обавештава систем преко које релације да приступи обједињеном ентитету профила. Различите путање релација могу постићи различите резултате.

На пример, ентитет *eCommerce_eCommercePurchases* има следеће релације на обједињеном профилу ентитета *Клијент*:

- eCommerce_eCommercePurchases > Клијент
- eCommerce_eCommercePurchases > eCommerce_eCommerceContacts > POS_posPurchases > Клијент
- eCommerce_eCommercePurchases > eCommerce_eCommerceContacts > POS_posPurchases > loyaltyScheme_loyCustomers > Клијент 

Путања релација одређује које ентитете можете користити при креирању правила за мере или сегменте. Одабир опције са најдужом путањом релација вероватно ће постићи мање резултата, јер записи који се подударају морају да буду део свих ентитета. У овом примеру, клијент мора да купи робу путем е-трговине (eCommerce_eCommercePurchases), на продајном месту (POS_posPurchases) и да учествује у нашем програму лојалности (loyaltyScheme_loyCustomers). Када бирате прву опцију, вероватно ћете добити више резултата јер клијенти морају постојати само у једном додатном ентитету.

### <a name="direct-relationship"></a>Директна релација

Релација је класификована као **директна релација** када се изворни ентитет односи на циљни ентитет са само једном релацијом.

На пример, ако се ентитет активности под називом *eCommerce_eCommercePurchases* повезује са циљним ентитетом *eCommerce_eCommerceContacts* само кроз *ContactId*, то је директна релација.

:::image type="content" source="media/direct_Relationship.png" alt-text="Изворни ентитет се директно повезује са циљним ентитетом.":::

#### <a name="multi-path-relationship"></a>Релација кроз више путања

**Релација кроз више путања** је посебна врста директне релације која повезује изворни ентитет са више циљних ентитета.

На пример, ако се ентитет активности под називом *eCommerce_eCommercePurchases* односи се на два циљна ентитета, оба *eCommerce_eCommerceContacts* и *loyaltyScheme_loyCustomers*, то је релација са више путања.

:::image type="content" source="media/multi-path_relationship.png" alt-text="Изворни ентитет се повезује директно са више циљних ентитета путем односа више скокова.":::

### <a name="indirect-relationship"></a>Индиректна релација

Релација је класификована као **индиректна релација** када се изворни ентитет односи на један или више додатних ентитета пре него што се односи на циљни ентитет.

#### <a name="multi-hop-relationship"></a>Релација кроз више скокова

*Релација кроз више скокова* је *индиректна релација* која вам омогућава да повежете изворни ентитет са циљним ентитетом преко једног или више других посредничких ентитета.

На пример, ако се ентитет активности под називом *eCommerce_eCommercePurchasesWest* повезује са посредничким ентитетом под називом *eCommerce_eCommercePurchasesEast*, а затим се повезује са циљним ентитетом под називом *eCommerce_eCommerceContacts*, то је релација са више скокова.

:::image type="content" source="media/multi-hop_relationship.png" alt-text="Изворни ентитет се повезује директно са циљним ентитетом са посредним ентитетом.":::

### <a name="multi-hop-multi-path-relationship"></a>Више скокова, релација са више путања

Релације са више скокова и више путања се могу користити заједно за креирање **релација са више скокова, више путања**. Ова посебна врста комбинује функције **релација са више скокова** и **више путања**. Омогућава вам повезивање са више циљних ентитета док користите посредничке ентитете.

На пример, ако се ентитет активности под називом *eCommerce_eCommercePurchasesWest* повезује са посредничким ентитетом под називом *eCommerce_eCommercePurchasesEast*, а затим се повезује са два циљна ентитета, оба под називом *eCommerce_eCommerceContacts* и *loyaltyScheme_loyCustomers*, то је релација са више скокова, више путања.

:::image type="content" source="media/multi-hop_multi-path_relationship.png" alt-text="Изворни ентитет се повезује директно са једним циљним ентитетом и повезује се са другим циљним ентитетом преко посредног ентитета.":::

## <a name="manage-existing-relationships"></a>Управљање постојећим релацијама 

На страници Релације, свака релација је представљена једним редом. 

Изаберите релацију и одаберите једну од следећих опција: 
 
- **Уреди**: Ажурирајте својства прилагођених релација у окну за уређивање и сачувајте промене.
- **Избриши**: Избришите прилагођене релације.
- **Приказ**: Прикажите системски креиране и наслеђене релације. 

## <a name="next-step"></a>Следећи корак

Системске и прилагођене релације се користе за [креирање сегмената](segments.md) и [мера](measures.md) на основу више извора података који више нису изоловани.

[!INCLUDE[footer-include](../includes/footer-banner.md)]
