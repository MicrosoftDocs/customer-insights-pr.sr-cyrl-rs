---
title: Подударање ентитета за обједињавање података
description: Подударите ентитете да бисте креирали обједињене профиле клијената.
ms.date: 10/14/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
ms.reviewer: adkuppa
manager: shellyha
ms.openlocfilehash: 78549037f9c9e59329f5423c36eeb058128802c0
ms.sourcegitcommit: cf9b78559ca189d4c2086a66c879098d56c0377a
ms.translationtype: HT
ms.contentlocale: sr-Cyrl-RS
ms.lasthandoff: 11/03/2020
ms.locfileid: "4406874"
---
# <a name="match-entities"></a>Подударање ентитета

Када завршите фазу мапирања, спремни сте за подударање са ентитетима. Фаза подударања наводи како да комбинујете своје скупове података у обједињени скуп података профила клијента. Фаза подударања захтева најмање [два мапирана ентитета](map-entities.md).

## <a name="specify-the-match-order"></a>Наведите редослед подударања

Иди на **Уједначавање** > **Подударање** и изаберите **Подесите редослед** да бисте започели фазу подударања.

Свако подударање обједињује два или више ентитета у један ентитет, истовремено задржавајући сваки јединствени запис корисника. У следећем примеру одабрали смо три ентитета: **ContactCSV: TestData** као **Примарни** ентитет, **WebAccountCSV: TestData** као **Ентитет 2** и **CallRecordSmall: TestData** као **Ентитет 3**. Дијаграм изнад избора илуструје како ће се редослед подударања извршити.

> [!div class="mx-imgBorder"]
> ![Уредите редослед подударања података](media/configure-data-match-order-edit-page.png "Уређивање редоследа подударања података")
  
**Примарни** ентитет је усклађен са **Ентитетом 2**. Скуп података који проистиче из првог подударања је усклађен са **Ентитетом 3**.
У овом примеру смо изабрали само два подударања, али систем може да их подржи више.

> [!IMPORTANT]
> Ентитет који сте одабрали као свој **Примарни** ентитет послужиће као основа за обједињени матични скуп података. Додатни ентитети који су изабрани током фазе подударања биће додати овом ентитету. Истовремено, то не значи да ће обједињени ентитет укључивати *све* податке укључене у овај ентитет.
>
> Постоје два разлога која вам могу помоћи да одаберете хијерархију својих ентитета:
>
> - За који ентитет сматрате да има најпотпуније и најпоузданије податке о вашим клијентима?
> - Да ли ентитет који сте управо идентификовали има атрибуте које деле и други субјекти (на пример, име, број телефона или адреса е-поште)? Ако не, одаберите свој други најпоузданији ентитет.

Изаберите **Готово** да бисте сачували редослед подударања.

## <a name="define-rules-for-your-first-match-pair"></a>Дефинишите правила за први пар за подударање

Када наведете редослед подударања, видећете дефинисана подударања на страници **Подударање**. Плочице на врху екрана биће празне док не покренете свој редослед подударања.

> [!div class="mx-imgBorder"]
> ![Дефинишите правила](media/configure-data-match-need-rules.png "Дефинисање правила")

Упозорење **Потребна су правила** сугерише да није одређено правило подударања за пар за подударање. Правила подударања одређују логику којом ће се одређени пар ентитета ускладити.

1. Да бисте дефинисали прво правило, отворите окно **Дефиниција правила** одабиром одговарајућег реда подударања у табели са подударањима (1), а затим изаберите **Креирај ново правило** (2).

   > [!div class="mx-imgBorder"]
   > ![Креирај ново правило](media/configure-data-match-new-rule2.png "Креирај ново правило")

2. У окну **Уреди правило**, конфигуришите услове за то правило. Сваки услов је представљен у два реда која укључују обавезне изборе.

   > [!div class="mx-imgBorder"]
   > ![Окно за ново правило](media/configure-data-match-new-rule-condition.png "Окно за ново правило")

   Ентитет/поље (прво) – Атрибут који ће се користити за подударање из ентитета првог пара за подударање. Примери могу да укључују број телефона или адресу е-поште. Одаберите атрибут који ће вероватно бити јединствен за клијента.

   > [!TIP]
   > Избегавајте подударање на основу атрибута типа активности. Другим речима, ако се чини да је неки атрибут активност, онда то може бити лош критеријум за подударање.  

   Ентитет/поље (друго) – Атрибут који ће се користити за подударање из ентитета другог пара за подударање.

   Нормализуј – **Метода нормализације**: За изабране атрибуте доступне су разне опције нормализације. На пример, уклањање интерпункцијских знакова или уклањање размака

   За нормализацију назива организације (Преглед), такође можете да изаберете **Врста (телефон, име, организација)**

   > [!div class="mx-imgBorder"]
   > ![Нормализација-B2B](media/match-normalization-b2b.png "Нормализација-B2B")

   Ниво прецизности – Ниво прецизности који ће се користити за ово стање. Подешавање нивоа прецизности за услов подударања може имати два типа: **Основни** и **Прилагођени**.  
   - Основни: Омогућава вам избор између четири опције: Ниски, Средњи, Високи и Тачни. Изаберите **Тачни** да бисте подударали само записе који се подударају 100 посто. Изаберите један од осталих нивоа да бисте подударали записе који нису 100 посто идентични.
   - Прилагођени: Користите клизач да бисте дефинисали прилагођени проценат за који се записи морају подударати или унети вредност у поље **Прилагођени**. Систем ће подударати само оне записе који прелазе овај праг као парови спојених подударања. Вредности на клизачу су између 0 и 1. Дакле, 0,64 представља 64 процента.

3. Изаберите **Готово** да бисте сачували правило.

### <a name="add-multiple-conditions"></a>Додавање више услова

Да бисте подударали ентитете само ако је испуњено више услова, додајте још услова који су повезани преко оператора И.

1. У окну **Уређивање правила**, изаберите **Додајте услов**. Такође можете избрисати услове тако што ћете изабрати дугме за уклањање поред постојећег услова.

2. Изаберите **Готово** да бисте сачували правило.

## <a name="add-multiple-rules"></a>Додавање више правила

Сваки услов односи се на један пар атрибута, док правила представљају скупове услова. Да би се ваши ентитети подударили са различитим скуповима атрибута, можете додати више правила.

1. У увидима о корисницима идите на **Подаци** > **Обједини** > **Подудари**.

2. Изаберите ентитет који желите да ажурирате и изаберите **Додај правила**.

3. Следите процедуру као што је описано у [Дефинишите правила за први пар за подударање](#define-rules-for-your-first-match-pair).

> [!NOTE]
> Редослед правила је важан. Алгоритам подударања покушава да подудари садржај на основу првог правила и наставља на друго правило само ако под првим правилом није идентификовано ниједно подударање.

## <a name="define-deduplication-on-a-match-entity"></a>Дефинишите дедупликацију на ентитету подударања

Поред навођења правила за унакрсно подударање како је наведено у горњим одељцима, такође можете да одредите правила за дедупликацију. *Дедупликација* је процес. Идентификује дупликате записа, спаја их у један запис и повезује све изворне записе са овим обједињеним записом са алтернативним ID-овима за обједињени запис.

Када се дедуплицирани запис идентификује, он ће се затим користити у процесу унакрсног подударања. Дедупликација се примењује на нивоу ентитета и може се применити на сваки ентитет који се користи у процесу подударања.

### <a name="add-deduplication-rules"></a>Додавање правила за дедупликацију

1. У увидима о корисницима идите на **Подаци** > **Обједини** > **Подудари**.

1. У одељку **Обједињени дупликати** изаберите **Подесите ентитете**.

1. У одељку **Обједињавање жељених подешавања** изаберите ентитете на које желите да примените дедупликацију.

1. Наведите како треба објединити дупликате записа и одаберите једну од три опције обједињавања:
   - *Најпопуњенији*: Идентификује запис са највише попуњених атрибута као добитни. То је подразумевана опција обједињавања.
   - *Најновији*: Идентификује добитни запис на основу најскоријег времена. Захтева датум или нумеричко поље за дефинисање скорашњости.
   - *Најкаснији*: Идентификује добитни запис на основу најкаснијег времена. Захтева датум или нумеричко поље за дефинисање скорашњости.
 
   > [!div class="mx-imgBorder"]
   > ![Корак 1 за правила за дедупликацију](media/match-selfconflation.png "Корак 1 за правила за дедупликацију")
 
1. Када су ентитети изабрани и када су постављене жељене опције за обједињавање, изаберите **Направите ново правило** да би се дефинисала правила дедупликације на нивоу ентитета.
   - **Изаберите поље** наводи сва доступна поља из тог ентитета на којем желите да дедуплицирате изворне податке.
   - Наведите поставке нормализације и прецизности на сличан начин као што је наведено у унакрсном подударању ентитета.
   - Можете да дефинишете додатне услове избором опције **Додајте услов**.
 
   > [!div class="mx-imgBorder"]
   > ![Корак 2 за правила за дедупликацију](media/match-selfconflation-rules.png "Корак 2 за правила за дедупликацију")

  Можете да креирате више правила за дедупликацију за ентитет. 

1. Покретање процеса подударања сада групише записе на основу услова дефинисаних у правилима дедупликације. Након груписања записа, примењују се смернице обједињавања за идентификовање добитног записа.

1. Добитни запис се затим прослеђује унакрсном подударању ентитета.

1. Прилагођена правила подударања дефинисана „подударај увек“ и „не подударај никада“ замењују правила дедупликације. Ако правило дедупликације идентификује подударне записе, а прилагођено правило подударања је подешено да се никада не подудара са тим записима, онда се ова два записа неће подударати.

1. Након покретања процеса подударања, видећете статистику дедупликације.
   
> [!NOTE]
> Навођење правила дедупликације није обавезно. Ако таква правила нису конфигурисана, примењују се системски дефинисана правила. Она сажимају све записе који деле исту комбинацију вредности (тачно подударање) из примарног кључа и поља у подударним правилима у један запис пре него што проследе податке ентитета у међусобно подударање ентитета ради побољшаних перформанси и исправности система.

## <a name="run-your-match-order"></a>Покретање редоследа подударања

Након дефинисања правила подударања, укључујући правила за подударање и дедупликацију међу ентитетима, можете покренути редослед подударања. На страници **Подударање**, изаберите **Покрени** да започнете процес. Може да прође неко време док се алгоритам подударања не доврши. Не можете променити својства на страници **Подударање** док се не доврши процес подударања. Пронаћи ћете обједињени ентитет корисничког профила који је креиран на страници **Ентитети**. Ваш обједињени ентитет клијента се зове **ConflationMatchPairs : CustomerInsights**.

Да бисте унели додатне измене и поново покренули корак, можете отказати подударање у току. Изаберите текст **Освежавање у току...** и изаберите **Откажи посао** при дну бочног окна које се приказује.

Када се процес подударања заврши, текст **Освежавање у току...** ће се променити у **Успешно** и поново можете да користите сву функционалност странице.

Процес првог подударања доводи до креирања јединственог мастер ентитета. Сва наредна покретања подударања доводе до ширења тог ентитета.

> [!TIP]
> Постоји [шест врста статуса](system.md#status-types) за задатке/процесе. Уз то, већина процеса [зависи од других процеса на нижем току](system.md#refresh-policies). Можете изабрати статус процеса да бисте видели детаље о току целог посла. Након избора опције **Види детаље** за један од задатака посла пронаћи ћете додатне информације: време обраде, датум последње обраде и све грешке и упозорења повезана са задатком.

## <a name="review-and-validate-your-matches"></a>Прегледајте и потврдите своја подударања

Оцените квалитет парова за подударање и прецизирајте га:

- На страници **Подударање** ћете пронаћи две плочице које приказују почетне увиде о вашим подацима.

  - **Јединствени клијенти**: приказује број јединствених профила које је систем идентификовао.
  - **Подударни записи**: приказује број подударања у свим паровима за подударање.

- У табели **Редослед подударања** можете оценити резултате сваког пара упоређујући број записа који су дошли из овог ентитета парова за подударање у односу на проценат успешно подударених записа.

- У одељку **Правила** ентитета у табели **Редослед подударања** ћете пронаћи проценат успешно подударених записа на нивоу правила. Одабиром симбола табеле поред правила можете прегледати све те записе на нивоу правила. Препоручујемо вам да прегледате подскуп записа да бисте утврдили да су правилно подударени.

- Експериментишите са различитим праговима прецизности око услова за идентификовање оптималне вредности.

  1. Изаберите три тачке (...) за правило пара за подударање са којим желите да експериментишете и изаберите **Уреди**.

  2. Изаберите услов са којим желите да експериментишете. Сваки критеријум представљен је једним редом у окну **Правило подударања**.

  3. Оно што ћете видети на страници **Преглед критеријума** зависи од нивоа прецизности који сте изабрали за услов. Пронађите број подударних и неподударних записа за изабрани услов.

     Стекните велико разумевање ефеката различитих граничних нивоа. Можете да упоредите колико ће се записа подударати испод сваког од граничних нивоа и да прегледате записе за сваку опцију. Изаберите сваку плочицу и прегледајте податке у одељку табеле.

## <a name="optimize-your-matches"></a>Оптимизовање подударања

Повећајте квалитет тако што ћете поново конфигурисати неке параметре подударања:

- **Промените распоред подударања** тако што ћете изабрати **Уреди** и променити поља распореда подударања.

  > [!div class="mx-imgBorder"]
  > ![Уређивање редоследа подударања података](media/configure-data-match-order-edit.png "Уређивање редоследа подударања података")

- **Промените редослед својих правила** ако сте дефинисали више правила. Редослед правила подударања можете променити тако што ћете бирати опције **Премести нагоре** и **Премести надоле** у мрежи правила подударања.

  > [!div class="mx-imgBorder"]
  > ![Промена редоследа правила](media/configure-data-change-rule-order.png "Промена редоследа правила")

- **Направите дупликате правила** ако сте дефинисали правило подударања и желите да креирате слично правило са изменама. Учините то избором опције **Дуплирај**.

  > [!div class="mx-imgBorder"]
  > ![Дуплирајте правило](media/configure-data-duplicate-rule.png "Дуплирање правила")

- **Уређујте правила** избором симбола **Уреди**. Можете применити следеће промене:

  - Промените атрибуте за услов: Изаберите нове атрибуте у одређеном реду услова.
  - Промените граничну вредност услова: Прилагодите клизач прецизности.
  - Промените метод нормализације за услов: Ажурирајте методу нормализације.

## <a name="specify-your-custom-match-records"></a>Наведите прилагођене записе подударања

Можете да наведете услове за које би одређена правила требало увек да се подударају или никада да се не подударају. Ова правила се могу групно отпремити у процес подударања.

1. Изаберите опцију **Прилагођено подударање** на екрану **Редослед подударања**.

   > [!div class="mx-imgBorder"]
   > ![Креирање прилагођеног подударања](media/custom-match-create.png "Креирање прилагођеног подударања")

2. Ако немате отпремљене ентитете, видећете нови дијалог **Прилагођено подударање** који треба да попуните неким детаљима. Ако сте раније навели ове детаље, пређите на корак 8.

   > [!div class="mx-imgBorder"]
   > ![Нови дијалог прилагођеног подударања](media/custom-match-new-dialog-box.png "Нови дијалог прилагођеног подударања")

3. Изаберите **Попуните предложак** да бисте добили датотеку предлошка која може да одреди који ће се записи из којих ентитета увек подударати или се неће никад подударити. Морате засебно да попуните записе „увек се подудара“ и „никад се не подудара“ у две различите датотеке.

4. Предложак садржи поља за спецификацију ентитета и вредности примарног кључа ентитета које ће се користити у прилагођеном подударању. На пример, ако желите да се примарни кључ 12345 ентитета Продаја увек подудара са примарним кључем 34567 ентитета Контакт, мораћете то да наведете на следећи начин:
    - Entity1: Продаја
    - Entity1Key: 12345
    - Entity2: Контакт
    - Entity2Key: 34567

   Иста датотека предлошка може одредити записе прилагођених подударања из више ентитета.

5. Када додате сва замењивања која желите да примените, сачувајте датотеку шаблона.

6. Идите на **Подаци** > **Извори података** и унесите датотеке предложака као нове ентитете. Када их унесете, можете их користити за одређивање конфигурације подударања.

7. Када отпремите датотеке и ентитете који су доступни, поново изаберите опцију **Прилагођено подударање**. Видећете опције за одређивање ентитета које желите да укључите. Изаберите потребне ентитете из падајућег менија.

   > [!div class="mx-imgBorder"]
   > ![Замењивања прилагођених подударања](media/custom-match-overrides.png "Замењивања прилагођених подударања")

8. Изаберите ентитете које желите да користите за **Увек се подудара** и **Никад се не подудара**, изаберите **Готово**.

9. Изаберите **Сачувај** на страници **Подударање** за прилагођену конфигурацију подударања коју сте управо поставили.

10. Изаберите **Покрени** на страници **Подударање** да бисте започели поступак подударања, а прилагођена конфигурација подударања ће ступити на снагу. Сва правила подударна у систему се замењују скупом конфигурације.

11. Када се подударање заврши, можете проверити ентитет **ConflationMatchPair** да бисте потврдили да су измене примењене у подударањима при састављању.

## <a name="next-step"></a>Следећи корак

Када довршите поступак подударања за најмање један пар подударања, можете решити могуће противречности у подацима тако што ћете проћи кроз тему [**Обједињавање**](merge-entities.md).
