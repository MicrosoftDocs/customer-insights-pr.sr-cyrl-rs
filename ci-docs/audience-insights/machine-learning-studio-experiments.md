---
title: Machine Learning Studio (класични) експерименти
description: Користите моделе Machine Learning Studio (класични) у услузи Dynamics 365 Customer Insights.
ms.date: 12/03/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
ms.reviewer: ameetj
manager: shellyha
ms.openlocfilehash: 556b6810db0ed2733a3f086291757bd85b77e371
ms.sourcegitcommit: a9b2cf598f256d07a48bba8617347ee90024a1dd
ms.translationtype: HT
ms.contentlocale: sr-Cyrl-RS
ms.lasthandoff: 12/03/2020
ms.locfileid: "4669036"
---
# <a name="use-models-based-on-azure-machine-learning-studio-classic"></a><span data-ttu-id="404c0-103">Користите моделе који се заснивају на услузи Azure Machine Learning Studio (класични)</span><span class="sxs-lookup"><span data-stu-id="404c0-103">Use models based on Azure Machine Learning Studio (classic)</span></span>

<span data-ttu-id="404c0-104">Обједињени подаци у услузи Dynamics 365 Customer Insights јесу извор за изградњу модела машинског учења који могу створити додатне пословне увиде.</span><span class="sxs-lookup"><span data-stu-id="404c0-104">The unified data in Dynamics 365 Customer Insights is a source for building machine learning models that can generate additional business insights.</span></span> <span data-ttu-id="404c0-105">Customer Insights се интегрише са Machine Learning Studio (класични) да би користио ваше прилагођене моделе.</span><span class="sxs-lookup"><span data-stu-id="404c0-105">Customer Insights integrates with Machine Learning Studio (classic) to use your own custom models.</span></span> <span data-ttu-id="404c0-106">Да бисте видели како се модели развијени у Azure машинском учењу интегришу са услугом Customer Insights, погледајте [Експерименти у Azure машинском учењу](azure-machine-learning-experiments.md).</span><span class="sxs-lookup"><span data-stu-id="404c0-106">To see how models developed in Azure Machine Learning are integrated with Customer Insights, see [Azure Machine Learning experiments](azure-machine-learning-experiments.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="404c0-107">Предуслови</span><span class="sxs-lookup"><span data-stu-id="404c0-107">Prerequisites</span></span>

- <span data-ttu-id="404c0-108">Приступ у Customer Insights</span><span class="sxs-lookup"><span data-stu-id="404c0-108">Access to Customer Insights</span></span>
- <span data-ttu-id="404c0-109">Активна Azure Enterprise претплата</span><span class="sxs-lookup"><span data-stu-id="404c0-109">Active Azure Enterprise subscription</span></span>
- [<span data-ttu-id="404c0-110">Обједињени профил клијента</span><span class="sxs-lookup"><span data-stu-id="404c0-110">Unified customer profiles</span></span>](data-unification.md)
- <span data-ttu-id="404c0-111">Подешавање [извоза ентитета у Azure складиште блоб објеката](export-azure-blob-storage.md)</span><span class="sxs-lookup"><span data-stu-id="404c0-111">[Entity export to Azure Blob storage](export-azure-blob-storage.md) set up</span></span>

## <a name="set-up-machine-learning-studio-classic"></a><span data-ttu-id="404c0-112">Подесите Machine Learning Studio Classic</span><span class="sxs-lookup"><span data-stu-id="404c0-112">Set up Machine Learning Studio Classic</span></span>

<span data-ttu-id="404c0-113">У првом кораку треба да креирамо радни простор и отворимо Machine Learning Studio (класични).</span><span class="sxs-lookup"><span data-stu-id="404c0-113">In a first step, we need to create a workspace for and open the Machine Learning Studio (classic).</span></span>

1. <span data-ttu-id="404c0-114">Идите на адресу[https://www.portal.azure.com](https://www.portal.azure.com/) и пријавите се.</span><span class="sxs-lookup"><span data-stu-id="404c0-114">Go to [https://www.portal.azure.com](https://www.portal.azure.com/) and sign in.</span></span>

1. <span data-ttu-id="404c0-115">Изаберите **Креирај ресурс**.</span><span class="sxs-lookup"><span data-stu-id="404c0-115">Select **Create a resource**.</span></span>

1. <span data-ttu-id="404c0-116">Претражите **Радни простор студија за машинско учење** и изаберите **Креирај**.</span><span class="sxs-lookup"><span data-stu-id="404c0-116">Search **Machine Learning Studio Workspace** and select **Create**.</span></span>

1. <span data-ttu-id="404c0-117">Унесите потребне детаље у [креирање радног простора](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span><span class="sxs-lookup"><span data-stu-id="404c0-117">Enter the required details to [create the workspace](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span></span> <span data-ttu-id="404c0-118">Изаберите **Ниво цена планова веб-услуга** на основу количине података коју планирате да увезете.</span><span class="sxs-lookup"><span data-stu-id="404c0-118">Choose the **Web service plan pricing tier** based on the amount of data you plan to import.</span></span> <span data-ttu-id="404c0-119">За најбоље перформансе, изаберите **локацију** која вам је географски најближа.</span><span class="sxs-lookup"><span data-stu-id="404c0-119">For best performance, select the **Location** that is geographically closest to you.</span></span>

1. <span data-ttu-id="404c0-120">Након креирања ресурса, приказаће се контролна табла радног простора студија за машинско учење.</span><span class="sxs-lookup"><span data-stu-id="404c0-120">After creating the resource, the Machine Learning Studio workspace dashboard will appear.</span></span> <span data-ttu-id="404c0-121">Изаберите **Покрените студио за машинско учење**.</span><span class="sxs-lookup"><span data-stu-id="404c0-121">Select **Launch Machine Learning Studio**.</span></span>

   ![Кориснички интерфејс Azure студија за машинско учење](media/azure-machine-learning-studio.png)

## <a name="work-with-azure-machine-learning-studio"></a><span data-ttu-id="404c0-123">Рад са Azure студиом за машинско учење</span><span class="sxs-lookup"><span data-stu-id="404c0-123">Work with Azure Machine Learning Studio</span></span>

<span data-ttu-id="404c0-124">Сада можете да креирате нови експеримент или увезете постојећи предложак експеримента из галерије узорака.</span><span class="sxs-lookup"><span data-stu-id="404c0-124">You can now create a new experiment, or import an existing experiment template from the sample gallery.</span></span> <span data-ttu-id="404c0-125">Постоје узорци експеримената за три стандардна сценарија:</span><span class="sxs-lookup"><span data-stu-id="404c0-125">There are sample experiments for three standard scenarios:</span></span>

- [<span data-ttu-id="404c0-126">Предвиђање одлива</span><span class="sxs-lookup"><span data-stu-id="404c0-126">Churn prediction</span></span>](#churn-analysis)

- [<span data-ttu-id="404c0-127">Трајна вредност клијента</span><span class="sxs-lookup"><span data-stu-id="404c0-127">Customer lifetime value</span></span>](#customer-lifetime-value-prediction)

- [<span data-ttu-id="404c0-128">Препорука за производе или следећа најбоља радња</span><span class="sxs-lookup"><span data-stu-id="404c0-128">Product recommendation or next best action</span></span>](#productrecommendation-or-next-best-action)

1. <span data-ttu-id="404c0-129">Ако креирате нови експеримент или употребљавате предложак експеримента из галерије, морате да конфигуришете својства за **Увоз података**.</span><span class="sxs-lookup"><span data-stu-id="404c0-129">If you create a new experiment or use an experiment template from the gallery, you need to configure the **Import Data** properties.</span></span> <span data-ttu-id="404c0-130">Користите вођено искуство или директно наведите детаље за приступ Azure складишту блоб објеката које садржи ваше податке.</span><span class="sxs-lookup"><span data-stu-id="404c0-130">Use the guided experience or directly provide details to access the Azure Blob Storage that contains your data.</span></span>  

   ![Експеримент са Azure студиом за машинско учење](media/azure-machine-learning-studio-experiment.png)

1. <span data-ttu-id="404c0-132">Сада можете изградити прилагођени канал за обраду да бисте обрисали и претходно обрадили податке, издвојили функције и обучили одговарајући модел.</span><span class="sxs-lookup"><span data-stu-id="404c0-132">Now you can build a custom processing pipeline to clean and preprocess the data, extract features, and train a suitable model.</span></span>

1. <span data-ttu-id="404c0-133">Тестирајте и оптимизујте перформансе модела.</span><span class="sxs-lookup"><span data-stu-id="404c0-133">Test and optimize the model performance.</span></span>

1. <span data-ttu-id="404c0-134">Када будете задовољни квалитетом модела, изаберите **Подесите веб-услугу** > **Веб-услуга предвиђања**.</span><span class="sxs-lookup"><span data-stu-id="404c0-134">When you’re satisfied with the quality of a model, select **Set up web service** > **Predictive Web Service**.</span></span> <span data-ttu-id="404c0-135">Ова опција увози обучени модел и карактеристику канала од експеримента обуке до услуге предвиђања.</span><span class="sxs-lookup"><span data-stu-id="404c0-135">This option imports the trained model and the featurization pipeline from the training experiment to a predictive service.</span></span> <span data-ttu-id="404c0-136">Услуга предвиђања може узети други скуп улазних података са шемом која се користи у експерименту обуке да би се направила предвиђања.</span><span class="sxs-lookup"><span data-stu-id="404c0-136">The predictive service can take another set of input data with the schema used in the training experiment to make predictions.</span></span>

   ![Постављање веб-услуге предвиђања](media/predictive-webservice-control.png)

1. <span data-ttu-id="404c0-138">Када експеримент веб-услуге предвиђања буде успешан, можете га применити за аутоматско заказивање.</span><span class="sxs-lookup"><span data-stu-id="404c0-138">Once the predictive web service experiment is successful, you can deploy it for auto scheduling.</span></span> <span data-ttu-id="404c0-139">Да би веб-услуга радила са услугом Customer Insights, изаберите **Примени веб-услугу** > **Преглед примене веб-услуге [Ново]**.</span><span class="sxs-lookup"><span data-stu-id="404c0-139">To have the web service work with Customer Insights, select **Deploy Web Service** > **Deploy Web Service [New] Preview**.</span></span> <span data-ttu-id="404c0-140">[Сазнајте више о примени веб-услуге](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span><span class="sxs-lookup"><span data-stu-id="404c0-140">[Learn more about deploying a web service](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span></span>

   ![Примена веб-услуге предвиђања](media/predictive-webservice-deploy.png)

## <a name="sample-models-from-the-gallery"></a><span data-ttu-id="404c0-142">Модели узорака из галерије</span><span class="sxs-lookup"><span data-stu-id="404c0-142">Sample models from the gallery</span></span>

<span data-ttu-id="404c0-143">Користићемо фиктивни сценарио хотела Contoso за моделе у овом чланку.</span><span class="sxs-lookup"><span data-stu-id="404c0-143">We'll use a fictitious scenario of Contoso Hotel for the models in this article.</span></span> <span data-ttu-id="404c0-144">Хотел Contoso прикупља следеће податке:</span><span class="sxs-lookup"><span data-stu-id="404c0-144">Contoso Hotel gathers the following data:</span></span>

- <span data-ttu-id="404c0-145">CRM подаци који се састоје од активности боравка у хотелу.</span><span class="sxs-lookup"><span data-stu-id="404c0-145">CRM data consisting of hotel stay activity.</span></span> <span data-ttu-id="404c0-146">Скуп података садржи информације о датумима боравка за сваког регистрованог клијента.</span><span class="sxs-lookup"><span data-stu-id="404c0-146">The data set includes information about the dates of stay for each registered customer.</span></span> <span data-ttu-id="404c0-147">Такође садржи информације о резервацији, типовима соба, детаљима потрошње итд.</span><span class="sxs-lookup"><span data-stu-id="404c0-147">It also contains information about the booking, room types, details of spend, and so on.</span></span> <span data-ttu-id="404c0-148">Подаци се протежу кроз четири године, од јануара 2014. до јануара 2018. године.</span><span class="sxs-lookup"><span data-stu-id="404c0-148">The data spans four years, from January 2014 to January 2018.</span></span>
- <span data-ttu-id="404c0-149">Клијентски профили гостију хотела.</span><span class="sxs-lookup"><span data-stu-id="404c0-149">Customer profiles of hotel guests.</span></span> <span data-ttu-id="404c0-150">Ови профили садрже податке о сваком клијенту, укључујући њихово име, датум рођења, поштанску адресу, пол и број телефона.</span><span class="sxs-lookup"><span data-stu-id="404c0-150">These profiles contain information about each customer, including their name, birthdate, postal address, gender, and phone number.</span></span>
- <span data-ttu-id="404c0-151">Употреба услуга које нуди хотел, као што су базен, перионица, WiFi или курирска служба.</span><span class="sxs-lookup"><span data-stu-id="404c0-151">Usage of services offered by the hotel, such as the spa, laundry, WiFi, or courier.</span></span> <span data-ttu-id="404c0-152">Ове информације се бележе за сваког регистрованог клијента.</span><span class="sxs-lookup"><span data-stu-id="404c0-152">This information is logged for each registered customer.</span></span> <span data-ttu-id="404c0-153">Употреба услуга је обично повезана са боравком.</span><span class="sxs-lookup"><span data-stu-id="404c0-153">Typically, use of services is linked with the stay.</span></span> <span data-ttu-id="404c0-154">У неким случајевима, услуге могу користити клијенти без боравка у хотелу.</span><span class="sxs-lookup"><span data-stu-id="404c0-154">In some cases, services can be used by customers without staying in the hotel.</span></span>

## <a name="churn-analysis"></a><span data-ttu-id="404c0-155">Анализа одлива</span><span class="sxs-lookup"><span data-stu-id="404c0-155">Churn Analysis</span></span>

<span data-ttu-id="404c0-156">Анализа одлива се односи на различите области пословања.</span><span class="sxs-lookup"><span data-stu-id="404c0-156">Churn analysis applies to different business areas.</span></span> <span data-ttu-id="404c0-157">У овом примеру, осврнућемо се на одлив услуга, посебно у контексту хотелских услуга као што је горе описано.</span><span class="sxs-lookup"><span data-stu-id="404c0-157">In this example, we’re going to look at service churn, specifically in the context of hotel services as described above.</span></span> <span data-ttu-id="404c0-158">Омогућава радни пример канала целовитог модела који се може користити као почетна тачка за било који други модел одлива.</span><span class="sxs-lookup"><span data-stu-id="404c0-158">It provides a working example of an end–to–end model pipeline that can be used as a starting point for any other type of churn model.</span></span>

### <a name="definition-of-churn"></a><span data-ttu-id="404c0-159">Дефиниција одлива</span><span class="sxs-lookup"><span data-stu-id="404c0-159">Definition of Churn</span></span>

<span data-ttu-id="404c0-160">Дефиниција одлива може се разликовати на основу сценарија.</span><span class="sxs-lookup"><span data-stu-id="404c0-160">The definition of churn can differ based on the scenario.</span></span> <span data-ttu-id="404c0-161">У овом примеру, гост који није посетио хотел у последњих годину дана требало би да буде означен као одлив.</span><span class="sxs-lookup"><span data-stu-id="404c0-161">In this example, a guest who hasn’t visited the hotel in the past year should be labeled as churned.</span></span>  

<span data-ttu-id="404c0-162">Предложак експеримента се може увести из галерије.</span><span class="sxs-lookup"><span data-stu-id="404c0-162">The experiment template can be imported from the gallery.</span></span> <span data-ttu-id="404c0-163">Прво обезбедите да увезете податке за **Активност боравка у хотелу**, **Подаци о клијенту** и **Подаци о употреби услуге** из складишта Azure складишта блоб објекта.</span><span class="sxs-lookup"><span data-stu-id="404c0-163">First, ensure that you import the data for **Hotel Stay Activity**, **Customer data**, and **Service Usage Data** from Azure Blob storage.</span></span>

   ![Увоз података за модел одлива](media/import-data-azure-blob-storage.png)

### <a name="featurization"></a><span data-ttu-id="404c0-165">Карактеризација</span><span class="sxs-lookup"><span data-stu-id="404c0-165">Featurization</span></span>

<span data-ttu-id="404c0-166">На основу дефиниције губитка, прво идентификујемо необрађене функције које ће утицати на ознаку.</span><span class="sxs-lookup"><span data-stu-id="404c0-166">Based on the definition of churn, we first identify the raw features that will influence the label.</span></span> <span data-ttu-id="404c0-167">Затим обрађујемо ове сирове функције у нумеричке функције које се могу користити са моделима машинског учења.</span><span class="sxs-lookup"><span data-stu-id="404c0-167">Then, we process these raw features into numerical features that can be used with machine learning models.</span></span> <span data-ttu-id="404c0-168">Интеграција података се дешава у услузи Customer Insights тако да можемо придружити ове табеле помоћу *ID-а клијента*.</span><span class="sxs-lookup"><span data-stu-id="404c0-168">Data integration happens in Customer Insights so we can join these tables by using the *Customer ID*.</span></span>

   ![Придружите се увезеним подацима](media/join-imported-data.png)

<span data-ttu-id="404c0-170">Карактеризација за израду модела за анализу одлива може бити помало проблематична.</span><span class="sxs-lookup"><span data-stu-id="404c0-170">The featurization for building the model for churn analysis can be a little tricky.</span></span> <span data-ttu-id="404c0-171">Подаци су функција времена са свакодневним новим активностима хотела.</span><span class="sxs-lookup"><span data-stu-id="404c0-171">The data is a function of time with new hotel activity recorded on daily basis.</span></span> <span data-ttu-id="404c0-172">Током карактеризације желимо да из динамичких података створимо статичке функције.</span><span class="sxs-lookup"><span data-stu-id="404c0-172">During featurization, we want to generate static features from the dynamic data.</span></span> <span data-ttu-id="404c0-173">У овом случају генеришемо више функција из хотелских активности са клизним временским оквиром од једне године.</span><span class="sxs-lookup"><span data-stu-id="404c0-173">In this case, we generate multiple features from hotel activity with a sliding window of one year.</span></span> <span data-ttu-id="404c0-174">Такође проширујемо функције категоризације попут врсте собе или врсте резервације у посебне функције користећи категоризовано кодирање.</span><span class="sxs-lookup"><span data-stu-id="404c0-174">We also expand the categorical features like room type or booking type into separate features using one-hot encoding.</span></span>  

<span data-ttu-id="404c0-175">Коначни списак функција:</span><span class="sxs-lookup"><span data-stu-id="404c0-175">Final list of features:</span></span>

| <span data-ttu-id="404c0-176">**Број**</span><span class="sxs-lookup"><span data-stu-id="404c0-176">**Number**</span></span>  | <span data-ttu-id="404c0-177">**Original_Column**</span><span class="sxs-lookup"><span data-stu-id="404c0-177">**Original_Column**</span></span>          | <span data-ttu-id="404c0-178">**Изведене функције**</span><span class="sxs-lookup"><span data-stu-id="404c0-178">**Derived Features**</span></span>                                                                                                                      |
|-------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="404c0-179">1</span><span class="sxs-lookup"><span data-stu-id="404c0-179">1</span></span>           | <span data-ttu-id="404c0-180">Врста собе</span><span class="sxs-lookup"><span data-stu-id="404c0-180">Room Type</span></span>                    | <span data-ttu-id="404c0-181">RoomTypeLargeCount, RoomTypeSmallCount</span><span class="sxs-lookup"><span data-stu-id="404c0-181">RoomTypeLargeCount, RoomTypeSmallCount</span></span>                                                                                                    |
| <span data-ttu-id="404c0-182">2</span><span class="sxs-lookup"><span data-stu-id="404c0-182">2</span></span>           | <span data-ttu-id="404c0-183">Тип резервације</span><span class="sxs-lookup"><span data-stu-id="404c0-183">Booking Type</span></span>                 | <span data-ttu-id="404c0-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span><span class="sxs-lookup"><span data-stu-id="404c0-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span></span>                                                                                         |
| <span data-ttu-id="404c0-185">3</span><span class="sxs-lookup"><span data-stu-id="404c0-185">3</span></span>           | <span data-ttu-id="404c0-186">Категорија путовања</span><span class="sxs-lookup"><span data-stu-id="404c0-186">Travel Category</span></span>              | <span data-ttu-id="404c0-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span><span class="sxs-lookup"><span data-stu-id="404c0-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span></span>                                                                                   |
| <span data-ttu-id="404c0-188">4</span><span class="sxs-lookup"><span data-stu-id="404c0-188">4</span></span>           | <span data-ttu-id="404c0-189">Потрошен новац</span><span class="sxs-lookup"><span data-stu-id="404c0-189">Dollars Spent</span></span>                | <span data-ttu-id="404c0-190">TotalDollarSpent</span><span class="sxs-lookup"><span data-stu-id="404c0-190">TotalDollarSpent</span></span>                                                                                                                          |
| <span data-ttu-id="404c0-191">5</span><span class="sxs-lookup"><span data-stu-id="404c0-191">5</span></span>           | <span data-ttu-id="404c0-192">Датуми пријављивања и одјављивања</span><span class="sxs-lookup"><span data-stu-id="404c0-192">Check-in and Checkout dates</span></span>  | <span data-ttu-id="404c0-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span><span class="sxs-lookup"><span data-stu-id="404c0-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span></span> <span data-ttu-id="404c0-194">StayCount2015, StayCount2014</span><span class="sxs-lookup"><span data-stu-id="404c0-194">StayCount2015, StayCount2014</span></span>                |
| <span data-ttu-id="404c0-195">6</span><span class="sxs-lookup"><span data-stu-id="404c0-195">6</span></span>           | <span data-ttu-id="404c0-196">Коришћење услуга</span><span class="sxs-lookup"><span data-stu-id="404c0-196">Service Usage</span></span>                | <span data-ttu-id="404c0-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span><span class="sxs-lookup"><span data-stu-id="404c0-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span></span>  |

### <a name="model-selection"></a><span data-ttu-id="404c0-198">Избор модела</span><span class="sxs-lookup"><span data-stu-id="404c0-198">Model selection</span></span>

<span data-ttu-id="404c0-199">Сада треба да одаберемо оптималан алгоритам који ћемо користити.</span><span class="sxs-lookup"><span data-stu-id="404c0-199">Now we need to choose the optimal algorithm to use.</span></span> <span data-ttu-id="404c0-200">У овом случају, већина функција се заснива на категоричким функцијама.</span><span class="sxs-lookup"><span data-stu-id="404c0-200">In this case, most features are based on categorical features.</span></span> <span data-ttu-id="404c0-201">Модели засновани на стаблу одлука обично добро раде.</span><span class="sxs-lookup"><span data-stu-id="404c0-201">Typically, decision tree–based models work well.</span></span> <span data-ttu-id="404c0-202">Ако постоје само нумеричке функције, неуронске мреже би могле бити бољи избор.</span><span class="sxs-lookup"><span data-stu-id="404c0-202">If there are only numerical features, neural networks could be a better choice.</span></span> <span data-ttu-id="404c0-203">Векторска машина за подршку (SVM) такође је добар кандидат у таквим ситуацијама; међутим, за извлачење најбољих перформанси потребно је прилично подешавање.</span><span class="sxs-lookup"><span data-stu-id="404c0-203">Support vector machine (SVM) also is a good candidate in such situations; however, it needs quite a bit of tuning to extract the best performance.</span></span> <span data-ttu-id="404c0-204">Ми бирамо **Стабло одлучивања појачано са две класе** као први модел избора који је праћен са **SVM у две класе** као други модел.</span><span class="sxs-lookup"><span data-stu-id="404c0-204">We choose **Two-Class Boosted Decision Tree** as the first model of choice followed by **Two-Class SVM** as the second model.</span></span> <span data-ttu-id="404c0-205">Azure студио за машинско учење дозвољава вам да обавите А/Б тестирање, тако да је корисно почети са два модела, а не са једним.</span><span class="sxs-lookup"><span data-stu-id="404c0-205">Azure Machine Learning Studio lets you do A/B testing, so it’s beneficial to start with two models rather than one.</span></span>

<span data-ttu-id="404c0-206">Следећа слика приказује канал обуке и оцењивања модела из Azure студија за машинско учење:</span><span class="sxs-lookup"><span data-stu-id="404c0-206">The following image shows the model training and evaluation pipeline from Azure Machine Learning Studio:</span></span>

![Модел одлива у Azure студију за машинско учење](media/azure-machine-learning-model.png)

<span data-ttu-id="404c0-208">Такође примењујемо и технику под називом **Значај функције пермутације**, важан аспект оптимизације модела.</span><span class="sxs-lookup"><span data-stu-id="404c0-208">We also apply a technique called **Permutation Feature Importance**, an important aspect of model optimization.</span></span> <span data-ttu-id="404c0-209">Уграђени модели имају мало или нимало увида у утицај било које посебне функције на коначно предвиђање.</span><span class="sxs-lookup"><span data-stu-id="404c0-209">Built-in models have little to no insight into the impact of any specific feature on the final prediction.</span></span> <span data-ttu-id="404c0-210">Калкулатор важности функције користи прилагођени алгоритам за израчунавање утицаја појединих карактеристика на исход одређеног модела.</span><span class="sxs-lookup"><span data-stu-id="404c0-210">The feature importance calculator uses a custom algorithm to compute the influence of individual features on the outcome for a specific model.</span></span> <span data-ttu-id="404c0-211">Значај функције је нормализован између +1 и -1.</span><span class="sxs-lookup"><span data-stu-id="404c0-211">The feature importance is normalized between +1 to -1.</span></span> <span data-ttu-id="404c0-212">Негативан утицај значи да одговарајућа карактеристика има контраинтуитивни утицај на исход и да је треба уклонити из модела.</span><span class="sxs-lookup"><span data-stu-id="404c0-212">A negative influence means the corresponding feature has counter-intuitive influence on the outcome and should be removed from the model.</span></span> <span data-ttu-id="404c0-213">Позитиван утицај указује на то да функција значајно доприноси предвиђању.</span><span class="sxs-lookup"><span data-stu-id="404c0-213">A positive influence indicates the feature is contributing heavily towards the prediction.</span></span> <span data-ttu-id="404c0-214">Ове вредности нису коефицијенти корелације, јер су то различити показатељи.</span><span class="sxs-lookup"><span data-stu-id="404c0-214">These values aren't correlation coefficients as they are different metrics.</span></span> <span data-ttu-id="404c0-215">За више информација погледајте [Значај функције пермутације](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span><span class="sxs-lookup"><span data-stu-id="404c0-215">For more information, see [Permutation Feature Importance](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span></span>

<span data-ttu-id="404c0-216">Читав [експеримент одлива доступан је у Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span><span class="sxs-lookup"><span data-stu-id="404c0-216">The entire [churn experiment is available in the Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span></span>

## <a name="customer-lifetime-value-prediction"></a><span data-ttu-id="404c0-217">Предвиђање вредности животног века клијента</span><span class="sxs-lookup"><span data-stu-id="404c0-217">Customer lifetime value prediction</span></span>

<span data-ttu-id="404c0-218">Прорачун вредности животног века клијента (CLTV) један је од кључних показатеља које предузеће може користити за процену и сегментирање клијената.</span><span class="sxs-lookup"><span data-stu-id="404c0-218">The customer lifetime value (CLTV) calculation is one of the key metrics that a business can use to assess and segment its customers.</span></span> <span data-ttu-id="404c0-219">За хотелски посао, најважније је познавање клијената.</span><span class="sxs-lookup"><span data-stu-id="404c0-219">For the hotel business, it’s critical to know their customers.</span></span> <span data-ttu-id="404c0-220">На пример, разумевање фактора који чине добре клијенте представља кључну информацију.</span><span class="sxs-lookup"><span data-stu-id="404c0-220">For example, understanding factors that make up good customers is crucial information.</span></span> <span data-ttu-id="404c0-221">То помаже менаџменту хотела да процени на које функције треба да се фокусирају и побољшају их како би задовољили своје клијенте са високом платежном моћи.</span><span class="sxs-lookup"><span data-stu-id="404c0-221">It helps the hotel management assess which features they need to focus on and improve to satisfy their high paying customers.</span></span> <span data-ttu-id="404c0-222">Ове одлуке могу имати директан утицај на продају и зараду.</span><span class="sxs-lookup"><span data-stu-id="404c0-222">These decisions can have a direct impact on sales and earnings.</span></span>  

### <a name="definition-of-cltv"></a><span data-ttu-id="404c0-223">Дефиниција вредности животног века клијента</span><span class="sxs-lookup"><span data-stu-id="404c0-223">Definition of CLTV</span></span>

<span data-ttu-id="404c0-224">За овај пример, вредност животног века клијента дефинишемо као укупни новчани износ који се очекује да ће клијент потрошити у наредних 365 дана.</span><span class="sxs-lookup"><span data-stu-id="404c0-224">For this example, we define the CLTV of a customer as the total dollar amount the customer is expected to spend in the next 365 days.</span></span> <span data-ttu-id="404c0-225">Користићемо податке у последње три године за све клијенте да предвидимо ову вредност.</span><span class="sxs-lookup"><span data-stu-id="404c0-225">We are going to use the past three years’ worth of data for all customers to predict this value.</span></span>

### <a name="featurization"></a><span data-ttu-id="404c0-226">Карактеризација</span><span class="sxs-lookup"><span data-stu-id="404c0-226">Featurization</span></span>

<span data-ttu-id="404c0-227">У овом случају, карактеризација ће бити представљена управо као сценарио одлива.</span><span class="sxs-lookup"><span data-stu-id="404c0-227">In this case, featurization is going to be quite like the churn scenario.</span></span> <span data-ttu-id="404c0-228">Међутим, ознаке и предвиђене вредности се разликују од горе дефинисаних.</span><span class="sxs-lookup"><span data-stu-id="404c0-228">However, the labels and predicted values are different than defined above.</span></span>

### <a name="model-selection"></a><span data-ttu-id="404c0-229">Избор модела</span><span class="sxs-lookup"><span data-stu-id="404c0-229">Model selection</span></span>

<span data-ttu-id="404c0-230">Предвиђање вредности животног века клијента је регресиони проблем, јер је предвиђена вредност је континуирана променљива позитивне вредности.</span><span class="sxs-lookup"><span data-stu-id="404c0-230">Predicting the CLTV is a regression problem as the predicted value is a positive valued continuous variable.</span></span> <span data-ttu-id="404c0-231">На основу својстава функције, бирамо **Појачана регресија стабла одлучивања** као један алгоритам и **Регресија неуронске мреже** као још један алгоритам за обуку модела.</span><span class="sxs-lookup"><span data-stu-id="404c0-231">Based on the feature properties, we select **Boosted Decision Tree Regression** as one algorithm and **Neural Network Regression** as another algorithm to train the model.</span></span>

## <a name="product-recommendation-or-next-best-action"></a><span data-ttu-id="404c0-232">Препорука за производе или следећа најбоља радња</span><span class="sxs-lookup"><span data-stu-id="404c0-232">Product recommendation or Next Best Action</span></span>

<span data-ttu-id="404c0-233">Препорука за производе у хотелском сценарију тумачи се као препорука услуга које хотел нуди клијентима.</span><span class="sxs-lookup"><span data-stu-id="404c0-233">Product recommendation in a hotel scenario is interpreted as recommending services offered by the hotel to the customers.</span></span> <span data-ttu-id="404c0-234">Циљ је одабрати одговарајуће услуге за клијенте тако да њихова употреба буде максимална.</span><span class="sxs-lookup"><span data-stu-id="404c0-234">The objective is to choose the appropriate services for customers so that their usage is maximized.</span></span> <span data-ttu-id="404c0-235">То је слично препорукама за филмове за кориснике услуга видео стримовања.</span><span class="sxs-lookup"><span data-stu-id="404c0-235">It’s similar to movie recommendations for video streaming service users.</span></span>

### <a name="definition-of-product-recommendation-or-next-best-action"></a><span data-ttu-id="404c0-236">Дефиниција препоруке за производе или следећа најбоља радња</span><span class="sxs-lookup"><span data-stu-id="404c0-236">Definition of Product Recommendation or Next Best Action</span></span>

<span data-ttu-id="404c0-237">Циљ дефинишемо као максимизовање новчаног износа коришћења услуга уз понуду најбољих одговарајућих услуга клијентима хотела кориснике у складу са њиховим интересовањима.</span><span class="sxs-lookup"><span data-stu-id="404c0-237">We define the goal as maximizing the dollar amount of service usage by offering the best matching services to hotel customers according to their interest.</span></span>

### <a name="featurization"></a><span data-ttu-id="404c0-238">Карактеризација</span><span class="sxs-lookup"><span data-stu-id="404c0-238">Featurization</span></span>

<span data-ttu-id="404c0-239">Попут модела одлива, повезујемо ServiceCustomerID за хотел са параметром CustomerID како бисмо изградили препоруке доследно по параметру CustomerID.</span><span class="sxs-lookup"><span data-stu-id="404c0-239">Like the churn model, we are joining the hotel ServiceCustomerID with CustomerID in order to build recommendations consistently per CustomerID.</span></span>

![Карактеризација модела препорука](media/azure-machine-learning-model-featurization.png)

<span data-ttu-id="404c0-241">Подаци се добијају из три различита ентитета и од њих су изведене функције.</span><span class="sxs-lookup"><span data-stu-id="404c0-241">The data is sourced from three different entities and features are derived from them.</span></span> <span data-ttu-id="404c0-242">Карактеристика за проблем препоруке различита је у поређењу са сценаријима одлива или вредности животног века клијента.</span><span class="sxs-lookup"><span data-stu-id="404c0-242">The featurization for the problem of recommendation is different compared to churn or CLTV scenarios.</span></span> <span data-ttu-id="404c0-243">Моделу препорука су потребни улазни подаци у облику три скупа функција.</span><span class="sxs-lookup"><span data-stu-id="404c0-243">The recommendation model needs input data in the form of three sets of features.</span></span>

### <a name="model-selection"></a><span data-ttu-id="404c0-244">Избор модела</span><span class="sxs-lookup"><span data-stu-id="404c0-244">Model selection</span></span>

<span data-ttu-id="404c0-245">Предвиђамо производе или услуге користећи алгоритам који се зове **Train Matchbox Recommender** за обуку модела препорука.</span><span class="sxs-lookup"><span data-stu-id="404c0-245">We predict products or services by using the algorithm called **Train Matchbox Recommender** to train the recommendation model.</span></span>

![Алгоритам препорука за производе](media/azure-machine-learning-model-recommendation-algorithm.png)

<span data-ttu-id="404c0-247">Три улаза за модел **Train Matchbox Recommender** садржи податке о коришћењу услуге обуке, опис клијента (опционално) и опис услуге.</span><span class="sxs-lookup"><span data-stu-id="404c0-247">The three input ports for the **Train Matchbox Recommender** model takes in the training service usage data, customer description (optional), and service description.</span></span> <span data-ttu-id="404c0-248">Постоје три различита начина бодовања модела.</span><span class="sxs-lookup"><span data-stu-id="404c0-248">There are three different ways of scoring the model.</span></span> <span data-ttu-id="404c0-249">Један је за евалуацију модела где се за рангирање оцењених предмета израчунава Нормализовани дисконтни кумулативни добитак (NDCG).</span><span class="sxs-lookup"><span data-stu-id="404c0-249">One is for model evaluation where a Normalized Discounted Cumulative Gain (NDCG) score is calculated to rank the rated items.</span></span> <span data-ttu-id="404c0-250">У овом експерименту имамо NDCG оцену 0,97.</span><span class="sxs-lookup"><span data-stu-id="404c0-250">In this experiment, we have the NDCG score as 0.97.</span></span> <span data-ttu-id="404c0-251">Друге две опције су оцењивање модела у целом препорученом каталогу услуга или само оцењивање предмета које корисници раније нису користили.</span><span class="sxs-lookup"><span data-stu-id="404c0-251">The other two options are scoring the model on the entire recommendable service catalog, or scoring only on items that users have not used before.</span></span>

<span data-ttu-id="404c0-252">Гледајући даље на дистрибуцију препорука у читавом каталогу услуга, примећујемо да су телефон, WiFi и курирска служба најбоље услуге које се препоручују.</span><span class="sxs-lookup"><span data-stu-id="404c0-252">Looking further on the distributions of the recommendations on the entire service catalog, we notice that phone, WiFi, and courier are the top services to be recommended.</span></span> <span data-ttu-id="404c0-253">То је у складу са оним што смо пронашли из дистрибуције података о потрошњи услуга:</span><span class="sxs-lookup"><span data-stu-id="404c0-253">This is consistent with what we found from the distributions of the service consumption data:</span></span>

![Излаз модела препоруке](media/azure-machine-learning-model-output.png)

<span data-ttu-id="404c0-255">Целом [експерименту препоруке производа може се приступити у Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span><span class="sxs-lookup"><span data-stu-id="404c0-255">The entire [product recommendation experiment can be accessed in Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span></span>

## <a name="integrate-custom-models"></a><span data-ttu-id="404c0-256">Интеграција прилагођених модела</span><span class="sxs-lookup"><span data-stu-id="404c0-256">Integrate custom models</span></span>

<span data-ttu-id="404c0-257">Да бисте користили та предвиђања у услузи Customer Insights, морате да **извезете** предвиђања заједно са ID-овима клијената.</span><span class="sxs-lookup"><span data-stu-id="404c0-257">To use these predictions in Customer Insights, you need to **export** the predictions along with the customer IDs.</span></span> <span data-ttu-id="404c0-258">[Извезите их на исту локацију Azure складишта блоб објеката](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) на коју извозите изворне податке.</span><span class="sxs-lookup"><span data-stu-id="404c0-258">[Export them to the same Azure Blob storage location](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) that you export the source data to.</span></span> <span data-ttu-id="404c0-259">Веб-услуга предвиђања може се редовно приказивати и ажурирати оцене.</span><span class="sxs-lookup"><span data-stu-id="404c0-259">The predictive web service can be scheduled to run regularly and update the scores.</span></span>

<span data-ttu-id="404c0-260">Подаци које генерише прилагођени модел могу се користити за додатно обогаћивање података о клијентима.</span><span class="sxs-lookup"><span data-stu-id="404c0-260">Data generated by the custom model can be used to further enrich your customer data.</span></span> <span data-ttu-id="404c0-261">За више информација погледајте [Прилагођени модели машинског учења](custom-models.md).</span><span class="sxs-lookup"><span data-stu-id="404c0-261">For more information, see [Custom machine learning models](custom-models.md).</span></span>
